import{r as l,R as g,z as Te}from"./index-d970708c.js";import{t as ie,s as P,h as Ce,a as $e,l as H,e as Fe,o as T,D as O,y as j,T as Le,d as oe,g as Z,X as B,c as we,p as ye,u as w,S as Pe,j as y,i as xe}from"./keyboard-5323140c.js";function M(){let e=[],t={addEventListener(r,n,a,o){return r.addEventListener(n,a,o),t.add(()=>r.removeEventListener(n,a,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ie(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=M();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function ae(){let[e]=l.useState(M);return l.useEffect(()=>()=>e.dispose(),[e]),e}function le(e,t,r){let n=P(t);l.useEffect(()=>{function a(o){n.current(o)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[e,r])}function se(e,t,r){let n=P(t);l.useEffect(()=>{function a(o){n.current(o)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[e,r])}function ut(e,t,r=!0){let n=l.useRef(!1);l.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(u,i){if(!n.current||u.defaultPrevented)return;let s=i(u);if(s===null||!s.getRootNode().contains(s))return;let f=function d(m){return typeof m=="function"?d(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let d of f){if(d===null)continue;let m=d instanceof HTMLElement?d:d.current;if(m!=null&&m.contains(s)||u.composed&&u.composedPath().includes(m))return}return!Ce(s,$e.Loose)&&s.tabIndex!==-1&&u.preventDefault(),t(u,s)}let o=l.useRef(null);le("mousedown",u=>{var i,s;n.current&&(o.current=((s=(i=u.composedPath)==null?void 0:i.call(u))==null?void 0:s[0])||u.target)},!0),le("click",u=>{o.current&&(a(u,()=>o.current),o.current=null)},!0),se("blur",u=>a(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function it(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(t==null?void 0:t.getAttribute("disabled"))==="";return n&&Re(r)?!1:n}function Re(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let ee=l.createContext(null);ee.displayName="OpenClosedContext";var F=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(F||{});function ce(){return l.useContext(ee)}function Se({value:e,children:t}){return g.createElement(ee.Provider,{value:e},t)}var He=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(He||{});function ot(){let e=l.useRef(0);return se("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function te(){let e=l.useRef(!1);return H(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function re(...e){return l.useMemo(()=>Fe(...e),[...e])}function at(e,t,r,n){let a=P(r);l.useEffect(()=>{e=e??window;function o(u){a.current(u)}return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)},[e,t,n])}function Oe(e){let t=T(e),r=l.useRef(!1);l.useEffect(()=>(r.current=!1,()=>{r.current=!0,ie(()=>{r.current&&t()})}),[t])}let de=l.createContext(!1);function Me(){return l.useContext(de)}function st(e){return g.createElement(de.Provider,{value:e.force},e.children)}function Ae(e){let t=Me(),r=l.useContext(fe),n=re(e),[a,o]=l.useState(()=>{if(!t&&r!==null||oe.isServer)return null;let u=n==null?void 0:n.getElementById("headlessui-portal-root");if(u)return u;if(n===null)return null;let i=n.createElement("div");return i.setAttribute("id","headlessui-portal-root"),n.body.appendChild(i)});return l.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),l.useEffect(()=>{t||r!==null&&o(r.current)},[r,o,t]),a}let Ne=l.Fragment;function ke(e,t){let r=e,n=l.useRef(null),a=j(Le(d=>{n.current=d}),t),o=re(n),u=Ae(n),[i]=l.useState(()=>{var d;return oe.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),s=l.useContext(W),f=Z();return H(()=>{!u||!i||u.contains(i)||(i.setAttribute("data-headlessui-portal",""),u.appendChild(i))},[u,i]),H(()=>{if(i&&s)return s.register(i)},[s,i]),Oe(()=>{var d;!u||!i||(i instanceof Node&&u.contains(i)&&u.removeChild(i),u.childNodes.length<=0&&((d=u.parentElement)==null||d.removeChild(u)))}),f?!u||!i?null:Te.createPortal(B({ourProps:{ref:a},theirProps:r,defaultTag:Ne,name:"Portal"}),i):null}let De=l.Fragment,fe=l.createContext(null);function je(e,t){let{target:r,...n}=e,a={ref:j(t)};return g.createElement(fe.Provider,{value:r},B({ourProps:a,theirProps:n,defaultTag:De,name:"Popover.Group"}))}let W=l.createContext(null);function ct(){let e=l.useContext(W),t=l.useRef([]),r=T(o=>(t.current.push(o),e&&e.register(o),()=>n(o))),n=T(o=>{let u=t.current.indexOf(o);u!==-1&&t.current.splice(u,1),e&&e.unregister(o)}),a=l.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,l.useMemo(()=>function({children:o}){return g.createElement(W.Provider,{value:a},o)},[a])]}let Be=O(ke),qe=O(je),dt=Object.assign(Be,{Group:qe});function ft({defaultContainers:e=[],portals:t}={}){let r=l.useRef(null),n=re(r),a=T(()=>{var o;let u=[];for(let i of e)i!==null&&(i instanceof HTMLElement?u.push(i):"current"in i&&i.current instanceof HTMLElement&&u.push(i.current));if(t!=null&&t.current)for(let i of t.current)u.push(i);for(let i of(o=n==null?void 0:n.querySelectorAll("html > *, body > *"))!=null?o:[])i!==document.body&&i!==document.head&&i instanceof HTMLElement&&i.id!=="headlessui-portal-root"&&(i.contains(r.current)||u.some(s=>i.contains(s))||u.push(i));return u});return{resolveContainers:a,contains:T(o=>a().some(u=>u.contains(o))),mainTreeNodeRef:r,MainTreeNode:l.useMemo(()=>function(){return g.createElement(we,{features:ye.Hidden,ref:r})},[r])}}function Ie(e=0){let[t,r]=l.useState(e),n=te(),a=l.useCallback(s=>{n.current&&r(f=>f|s)},[t,n]),o=l.useCallback(s=>!!(t&s),[t]),u=l.useCallback(s=>{n.current&&r(f=>f&~s)},[r,n]),i=l.useCallback(s=>{n.current&&r(f=>f^s)},[r]);return{flags:t,addFlag:a,hasFlag:o,removeFlag:u,toggleFlag:i}}function Ue(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function _(e,...t){e&&t.length>0&&e.classList.add(...t)}function Q(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Ge(e,t){let r=M();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(e),[o,u]=[n,a].map(s=>{let[f=0]=s.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,m)=>m-d);return f}),i=o+u;if(i!==0){r.group(f=>{f.setTimeout(()=>{t(),f.dispose()},i),f.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&f.dispose()})});let s=r.addEventListener(e,"transitionend",f=>{f.target===f.currentTarget&&(t(),s())})}else t();return r.add(()=>t()),r.dispose}function Ve(e,t,r,n){let a=r?"enter":"leave",o=M(),u=n!==void 0?Ue(n):()=>{};a==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let i=w(a,{enter:()=>t.enter,leave:()=>t.leave}),s=w(a,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),f=w(a,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Q(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),_(e,...i,...f),o.nextFrame(()=>{Q(e,...f),_(e,...s),Ge(e,()=>(Q(e,...i),_(e,...t.entered),u()))}),o.dispose}function ze({container:e,direction:t,classes:r,onStart:n,onStop:a}){let o=te(),u=ae(),i=P(t);H(()=>{let s=M();u.add(s.dispose);let f=e.current;if(f&&i.current!=="idle"&&o.current)return s.dispose(),n.current(i.current),s.add(Ve(f,r.current,i.current==="enter",()=>{s.dispose(),a.current(i.current)})),s.dispose},[t])}function x(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let q=l.createContext(null);q.displayName="TransitionContext";var Ke=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ke||{});function Je(){let e=l.useContext(q);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Xe(){let e=l.useContext(I);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let I=l.createContext(null);I.displayName="NestingContext";function U(e){return"children"in e?U(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function me(e,t){let r=P(e),n=l.useRef([]),a=te(),o=ae(),u=T((p,c=y.Hidden)=>{let h=n.current.findIndex(({el:v})=>v===p);h!==-1&&(w(c,{[y.Unmount](){n.current.splice(h,1)},[y.Hidden](){n.current[h].state="hidden"}}),o.microTask(()=>{var v;!U(n)&&a.current&&((v=r.current)==null||v.call(r))}))}),i=T(p=>{let c=n.current.find(({el:h})=>h===p);return c?c.state!=="visible"&&(c.state="visible"):n.current.push({el:p,state:"visible"}),()=>u(p,y.Unmount)}),s=l.useRef([]),f=l.useRef(Promise.resolve()),d=l.useRef({enter:[],leave:[],idle:[]}),m=T((p,c,h)=>{s.current.splice(0),t&&(t.chains.current[c]=t.chains.current[c].filter(([v])=>v!==p)),t==null||t.chains.current[c].push([p,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[c].push([p,new Promise(v=>{Promise.all(d.current[c].map(([E,R])=>R)).then(()=>v())})]),c==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(c)):h(c)}),$=T((p,c,h)=>{Promise.all(d.current[c].splice(0).map(([v,E])=>E)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>h(c))});return l.useMemo(()=>({children:n,register:i,unregister:u,onStart:m,onStop:$,wait:f,chains:d}),[i,u,n,m,$,d,f])}function _e(){}let Qe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ue(e){var t;let r={};for(let n of Qe)r[n]=(t=e[n])!=null?t:_e;return r}function We(e){let t=l.useRef(ue(e));return l.useEffect(()=>{t.current=ue(e)},[e]),t}let Ye="div",ve=Pe.RenderStrategy;function Ze(e,t){let{beforeEnter:r,afterEnter:n,beforeLeave:a,afterLeave:o,enter:u,enterFrom:i,enterTo:s,entered:f,leave:d,leaveFrom:m,leaveTo:$,...p}=e,c=l.useRef(null),h=j(c,t),v=p.unmount?y.Unmount:y.Hidden,{show:E,appear:R,initial:C}=Je(),[b,G]=l.useState(E?"visible":"hidden"),ne=Xe(),{register:A,unregister:N}=ne,V=l.useRef(null);l.useEffect(()=>A(c),[A,c]),l.useEffect(()=>{if(v===y.Hidden&&c.current){if(E&&b!=="visible"){G("visible");return}return w(b,{hidden:()=>N(c),visible:()=>A(c)})}},[b,c,A,N,E,v]);let z=P({enter:x(u),enterFrom:x(i),enterTo:x(s),entered:x(f),leave:x(d),leaveFrom:x(m),leaveTo:x($)}),k=We({beforeEnter:r,afterEnter:n,beforeLeave:a,afterLeave:o}),K=Z();l.useEffect(()=>{if(K&&b==="visible"&&c.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[c,b,K]);let J=C&&!R,he=(()=>!K||J||V.current===E?"idle":E?"enter":"leave")(),S=Ie(0),ge=T(L=>w(L,{enter:()=>{S.addFlag(F.Opening),k.current.beforeEnter()},leave:()=>{S.addFlag(F.Closing),k.current.beforeLeave()},idle:()=>{}})),Ee=T(L=>w(L,{enter:()=>{S.removeFlag(F.Opening),k.current.afterEnter()},leave:()=>{S.removeFlag(F.Closing),k.current.afterLeave()},idle:()=>{}})),D=me(()=>{G("hidden"),N(c)},ne);ze({container:c,classes:z,direction:he,onStart:P(L=>{D.onStart(c,L,ge)}),onStop:P(L=>{D.onStop(c,L,Ee),L==="leave"&&!U(D)&&(G("hidden"),N(c))})}),l.useEffect(()=>{J&&(v===y.Hidden?V.current=null:V.current=E)},[E,J,b]);let X=p,be={ref:h};return R&&E&&C&&(X={...X,className:xe(p.className,...z.current.enter,...z.current.enterFrom)}),g.createElement(I.Provider,{value:D},g.createElement(Se,{value:w(b,{visible:F.Open,hidden:F.Closed})|S.flags},B({ourProps:be,theirProps:X,defaultTag:Ye,features:ve,visible:b==="visible",name:"Transition.Child"})))}function et(e,t){let{show:r,appear:n=!1,unmount:a,...o}=e,u=l.useRef(null),i=j(u,t);Z();let s=ce();if(r===void 0&&s!==null&&(r=(s&F.Open)===F.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=l.useState(r?"visible":"hidden"),m=me(()=>{d("hidden")}),[$,p]=l.useState(!0),c=l.useRef([r]);H(()=>{$!==!1&&c.current[c.current.length-1]!==r&&(c.current.push(r),p(!1))},[c,r]);let h=l.useMemo(()=>({show:r,appear:n,initial:$}),[r,n,$]);l.useEffect(()=>{if(r)d("visible");else if(!U(m))d("hidden");else{let C=u.current;if(!C)return;let b=C.getBoundingClientRect();b.x===0&&b.y===0&&b.width===0&&b.height===0&&d("hidden")}},[r,m]);let v={unmount:a},E=T(()=>{var C;$&&p(!1),(C=e.beforeEnter)==null||C.call(e)}),R=T(()=>{var C;$&&p(!1),(C=e.beforeLeave)==null||C.call(e)});return g.createElement(I.Provider,{value:m},g.createElement(q.Provider,{value:h},B({ourProps:{...v,as:l.Fragment,children:g.createElement(pe,{ref:i,...v,...o,beforeEnter:E,beforeLeave:R})},theirProps:{},defaultTag:l.Fragment,features:ve,visible:f==="visible",name:"Transition"})))}function tt(e,t){let r=l.useContext(q)!==null,n=ce()!==null;return g.createElement(g.Fragment,null,!r&&n?g.createElement(Y,{ref:t,...e}):g.createElement(pe,{ref:t,...e}))}let Y=O(et),pe=O(Ze),rt=O(tt),mt=Object.assign(Y,{Child:rt,Root:Y});export{mt as $,ce as C,at as E,ut as H,st as P,ct as a,ot as b,Se as c,F as d,dt as e,ae as f,Oe as g,te as h,re as n,M as o,ft as p,it as r,He as s};
