import{s as ct,r as ht}from"./floating-ui.core.browser.min-9412da44.js";function w(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function x(t){return w(t).getComputedStyle(t)}function lt(t){return t instanceof w(t).Node}function R(t){return lt(t)?(t.nodeName||"").toLowerCase():"#document"}function v(t){return t instanceof w(t).HTMLElement}function b(t){return t instanceof w(t).Element}function et(t){return typeof ShadowRoot<"u"&&(t instanceof w(t).ShadowRoot||t instanceof ShadowRoot)}function W(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=x(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function pt(t){return["table","td","th"].includes(R(t))}function I(t){const e=X(),n=x(t);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!e&&!!n.backdropFilter&&n.backdropFilter!=="none"||!e&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function X(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function V(t){return["html","body","#document"].includes(R(t))}const q=Math.min,F=Math.max,z=Math.round,M=Math.floor,E=t=>({x:t,y:t});function st(t){const e=x(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=v(t),r=i?t.offsetWidth:n,f=i?t.offsetHeight:o,l=z(n)!==r||z(o)!==f;return l&&(n=r,o=f),{width:n,height:o,$:l}}function Y(t){return b(t)?t:t.contextElement}function D(t){const e=Y(t);if(!v(e))return E(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:r}=st(e);let f=(r?z(n.width):n.width)/o,l=(r?z(n.height):n.height)/i;return f&&Number.isFinite(f)||(f=1),l&&Number.isFinite(l)||(l=1),{x:f,y:l}}const nt=E(0);function ft(t,e,n){var o,i;if(e===void 0&&(e=!0),!X())return nt;const r=t?w(t):window;return!n||e&&n!==r?nt:{x:((o=r.visualViewport)==null?void 0:o.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function S(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=Y(t);let f=E(1);e&&(o?b(o)&&(f=D(o)):f=D(t));const l=ft(r,n,o);let s=(i.left+l.x)/f.x,c=(i.top+l.y)/f.y,g=i.width/f.x,h=i.height/f.y;if(r){const m=w(r),y=o&&b(o)?w(o):o;let d=m.frameElement;for(;d&&o&&y!==m;){const u=D(d),a=d.getBoundingClientRect(),p=getComputedStyle(d),C=a.left+(d.clientLeft+parseFloat(p.paddingLeft))*u.x,T=a.top+(d.clientTop+parseFloat(p.paddingTop))*u.y;s*=u.x,c*=u.y,g*=u.x,h*=u.y,s+=C,c+=T,d=w(d).frameElement}}return ct({width:g,height:h,x:s,y:c})}function L(t){return((lt(t)?t.ownerDocument:t.document)||window.document).documentElement}function B(t){return b(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ut(t){return S(L(t)).left+B(t).scrollLeft}function O(t){if(R(t)==="html")return t;const e=t.assignedSlot||t.parentNode||et(t)&&t.host||L(t);return et(e)?e.host:e}function at(t){const e=O(t);return V(e)?t.ownerDocument?t.ownerDocument.body:t.body:v(e)&&W(e)?e:at(e)}function A(t,e){var n;e===void 0&&(e=[]);const o=at(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),r=w(o);return i?e.concat(r,r.visualViewport||[],W(o)?o:[]):e.concat(o,A(o))}function ot(t,e,n){let o;if(e==="viewport")o=function(i,r){const f=w(i),l=L(i),s=f.visualViewport;let c=l.clientWidth,g=l.clientHeight,h=0,m=0;if(s){c=s.width,g=s.height;const y=X();(!y||y&&r==="fixed")&&(h=s.offsetLeft,m=s.offsetTop)}return{width:c,height:g,x:h,y:m}}(t,n);else if(e==="document")o=function(i){const r=L(i),f=B(i),l=i.ownerDocument.body,s=F(r.scrollWidth,r.clientWidth,l.scrollWidth,l.clientWidth),c=F(r.scrollHeight,r.clientHeight,l.scrollHeight,l.clientHeight);let g=-f.scrollLeft+ut(i);const h=-f.scrollTop;return x(l).direction==="rtl"&&(g+=F(r.clientWidth,l.clientWidth)-s),{width:s,height:c,x:g,y:h}}(L(t));else if(b(e))o=function(i,r){const f=S(i,!0,r==="fixed"),l=f.top+i.clientTop,s=f.left+i.clientLeft,c=v(i)?D(i):E(1);return{width:i.clientWidth*c.x,height:i.clientHeight*c.y,x:s*c.x,y:l*c.y}}(e,n);else{const i=ft(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return ct(o)}function dt(t,e){const n=O(t);return!(n===e||!b(n)||V(n))&&(x(n).position==="fixed"||dt(n,e))}function it(t,e){return v(t)&&x(t).position!=="fixed"?e?e(t):t.offsetParent:null}function rt(t,e){const n=w(t);if(!v(t))return n;let o=it(t,e);for(;o&&pt(o)&&x(o).position==="static";)o=it(o,e);return o&&(R(o)==="html"||R(o)==="body"&&x(o).position==="static"&&!I(o))?n:o||function(i){let r=O(i);for(;v(r)&&!V(r);){if(I(r))return r;r=O(r)}return null}(t)||n}function gt(t,e,n){const o=v(e),i=L(e),r=n==="fixed",f=S(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const s=E(0);if(o||!o&&!r)if((R(e)!=="body"||W(i))&&(l=B(e)),v(e)){const c=S(e,!0,r,e);s.x=c.x+e.clientLeft,s.y=c.y+e.clientTop}else i&&(s.x=ut(i));return{x:f.left+l.scrollLeft-s.x,y:f.top+l.scrollTop-s.y,width:f.width,height:f.height}}const mt={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=n==="clippingAncestors"?function(c,g){const h=g.get(c);if(h)return h;let m=A(c).filter(a=>b(a)&&R(a)!=="body"),y=null;const d=x(c).position==="fixed";let u=d?O(c):c;for(;b(u)&&!V(u);){const a=x(u),p=I(u);p||a.position!=="fixed"||(y=null),(d?!p&&!y:!p&&a.position==="static"&&y&&["absolute","fixed"].includes(y.position)||W(u)&&!p&&dt(c,u))?m=m.filter(C=>C!==u):y=a,u=O(u)}return g.set(c,m),m}(e,this._c):[].concat(n),f=[...r,o],l=f[0],s=f.reduce((c,g)=>{const h=ot(e,g,i);return c.top=F(h.top,c.top),c.right=q(h.right,c.right),c.bottom=q(h.bottom,c.bottom),c.left=F(h.left,c.left),c},ot(e,l,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=v(n),r=L(n);if(n===r)return e;let f={scrollLeft:0,scrollTop:0},l=E(1);const s=E(0);if((i||!i&&o!=="fixed")&&((R(n)!=="body"||W(r))&&(f=B(n)),v(n))){const c=S(n);l=D(n),s.x=c.x+n.clientLeft,s.y=c.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-f.scrollLeft*l.x+s.x,y:e.y*l.y-f.scrollTop*l.y+s.y}},isElement:b,getDimensions:function(t){return st(t)},getOffsetParent:rt,getDocumentElement:L,getScale:D,async getElementRects(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||rt,r=this.getDimensions;return{reference:gt(e,await i(n),o),floating:{x:0,y:0,...await r(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>x(t).direction==="rtl"};function wt(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=o,c=Y(t),g=i||r?[...c?A(c):[],...A(e)]:[];g.forEach(a=>{i&&a.addEventListener("scroll",n,{passive:!0}),r&&a.addEventListener("resize",n)});const h=c&&l?function(a,p){let C,T=null;const P=L(a);function _(){clearTimeout(C),T&&T.disconnect(),T=null}return function N(k,H){k===void 0&&(k=!1),H===void 0&&(H=1),_();const{left:j,top:G,width:J,height:K}=a.getBoundingClientRect();if(k||p(),!J||!K)return;const Q={rootMargin:-M(G)+"px "+-M(P.clientWidth-(j+J))+"px "+-M(P.clientHeight-(G+K))+"px "+-M(j)+"px",threshold:F(0,q(1,H))||1};let U=!0;function Z(tt){const $=tt[0].intersectionRatio;if($!==H){if(!U)return N();$?N(!1,$):C=setTimeout(()=>{N(!1,1e-7)},100)}U=!1}try{T=new IntersectionObserver(Z,{...Q,root:P.ownerDocument})}catch{T=new IntersectionObserver(Z,Q)}T.observe(a)}(!0),_}(c,n):null;let m,y=-1,d=null;f&&(d=new ResizeObserver(a=>{let[p]=a;p&&p.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{d&&d.observe(e)})),n()}),c&&!s&&d.observe(c),d.observe(e));let u=s?S(t):null;return s&&function a(){const p=S(t);!u||p.x===u.x&&p.y===u.y&&p.width===u.width&&p.height===u.height||n(),u=p,m=requestAnimationFrame(a)}(),n(),()=>{g.forEach(a=>{i&&a.removeEventListener("scroll",n),r&&a.removeEventListener("resize",n)}),h&&h(),d&&d.disconnect(),d=null,s&&cancelAnimationFrame(m)}}const xt=(t,e,n)=>{const o=new Map,i={platform:mt,...n},r={...i.platform,_c:o};return ht(t,e,{...i,platform:r})};export{xt as B,wt as V};
