import{r as o,R as k,z as Ue,O as Xe,j as L}from"./index-d970708c.js";import{n as me,a as Ge,p as Ye,E as Ke,H as qe,c as Ve,d as Y,b as Oe,C as Te,r as Ie,s as _,e as Ze,$ as ce}from"./transition-8001ce62.js";import{B as Qe,V as Je}from"./floating-ui.dom.browser.min-1104147d.js";import{g as Re,L as et,A as tt,O as nt,b as rt,E as ot}from"./floating-ui.core.browser.min-9412da44.js";import{S as oe,D as ee,y as K,T as at,f as ve,s as $e,o as M,u as H,X as te,I as G,c as fe,p as pe,l as st,O as z,M as B,h as lt,a as ut,b as W,e as it,N as de}from"./keyboard-5323140c.js";import{s as ct}from"./use-resolve-button-type-027adbc8.js";var ft=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ft||{}),pt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(pt||{});let dt={[0]:e=>{let t={...e,popoverState:H(e.popoverState,{[0]:1,[1]:0})};return t.popoverState===0&&(t.__demoMode=!1),t},[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,t){return e.button===t.button?e:{...e,button:t.button}},[3](e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},[4](e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},[5](e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},he=o.createContext(null);he.displayName="PopoverContext";function se(e){let t=o.useContext(he);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,se),r}return t}let ye=o.createContext(null);ye.displayName="PopoverAPIContext";function ge(e){let t=o.useContext(ye);if(t===null){let r=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ge),r}return t}let be=o.createContext(null);be.displayName="PopoverGroupContext";function Me(){return o.useContext(be)}let le=o.createContext(null);le.displayName="PopoverPanelContext";function mt(){return o.useContext(le)}function vt(e,t){return H(t.type,dt,e,t)}let ht="div";function yt(e,t){var r;let{__demoMode:n=!1,...a}=e,l=o.useRef(null),s=K(t,at(E=>{l.current=E})),p=o.useRef([]),f=o.useReducer(vt,{__demoMode:n,popoverState:n?0:1,buttons:p,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:o.createRef(),afterPanelSentinel:o.createRef()}),[{popoverState:d,button:c,buttonId:u,panel:i,panelId:v,beforePanelSentinel:b,afterPanelSentinel:m},g]=f,h=me((r=l.current)!=null?r:c),R=o.useMemo(()=>{if(!c||!i)return!1;for(let X of document.querySelectorAll("body > *"))if(Number(X==null?void 0:X.contains(c))^Number(X==null?void 0:X.contains(i)))return!0;let E=ve(),D=E.indexOf(c),V=(D+E.length-1)%E.length,U=(D+1)%E.length,Z=E[V],Se=E[U];return!i.contains(Z)&&!i.contains(Se)},[c,i]),C=$e(u),P=$e(v),O=o.useMemo(()=>({buttonId:C,panelId:P,close:()=>g({type:1})}),[C,P,g]),T=Me(),w=T==null?void 0:T.registerPopover,I=M(()=>{var E;return(E=T==null?void 0:T.isFocusWithinPopoverGroup())!=null?E:(h==null?void 0:h.activeElement)&&((c==null?void 0:c.contains(h.activeElement))||(i==null?void 0:i.contains(h.activeElement)))});o.useEffect(()=>w==null?void 0:w(O),[w,O]);let[$,F]=Ge(),y=Ye({portals:$,defaultContainers:[c,i]});Ke(h==null?void 0:h.defaultView,"focus",E=>{var D,V,U,Z;E.target!==window&&E.target instanceof HTMLElement&&d===0&&(I()||c&&i&&(y.contains(E.target)||(V=(D=b.current)==null?void 0:D.contains)!=null&&V.call(D,E.target)||(Z=(U=m.current)==null?void 0:U.contains)!=null&&Z.call(U,E.target)||g({type:1})))},!0),qe(y.resolveContainers,(E,D)=>{g({type:1}),lt(D,ut.Loose)||(E.preventDefault(),c==null||c.focus())},d===0);let S=M(E=>{g({type:1});let D=(()=>E?E instanceof HTMLElement?E:"current"in E&&E.current instanceof HTMLElement?E.current:c:c)();D==null||D.focus()}),j=o.useMemo(()=>({close:S,isPortalled:R}),[S,R]),N=o.useMemo(()=>({open:d===0,close:S}),[d,S]),q={ref:s};return k.createElement(le.Provider,{value:null},k.createElement(he.Provider,{value:f},k.createElement(ye.Provider,{value:j},k.createElement(Ve,{value:H(d,{[0]:Y.Open,[1]:Y.Closed})},k.createElement(F,null,te({ourProps:q,theirProps:a,slot:N,defaultTag:ht,name:"Popover"}),k.createElement(y.MainTreeNode,null))))))}let gt="button";function bt(e,t){let r=G(),{id:n=`headlessui-popover-button-${r}`,...a}=e,[l,s]=se("Popover.Button"),{isPortalled:p}=ge("Popover.Button"),f=o.useRef(null),d=`headlessui-focus-sentinel-${G()}`,c=Me(),u=c==null?void 0:c.closeOthers,i=mt()!==null;o.useEffect(()=>{if(!i)return s({type:3,buttonId:n}),()=>{s({type:3,buttonId:null})}},[i,n,s]);let[v]=o.useState(()=>Symbol()),b=K(f,t,i?null:y=>{if(y)l.buttons.current.push(v);else{let S=l.buttons.current.indexOf(v);S!==-1&&l.buttons.current.splice(S,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),y&&s({type:2,button:y})}),m=K(f,t),g=me(f),h=M(y=>{var S,j,N;if(i){if(l.popoverState===1)return;switch(y.key){case W.Space:case W.Enter:y.preventDefault(),(j=(S=y.target).click)==null||j.call(S),s({type:1}),(N=l.button)==null||N.focus();break}}else switch(y.key){case W.Space:case W.Enter:y.preventDefault(),y.stopPropagation(),l.popoverState===1&&(u==null||u(l.buttonId)),s({type:0});break;case W.Escape:if(l.popoverState!==0)return u==null?void 0:u(l.buttonId);if(!f.current||g!=null&&g.activeElement&&!f.current.contains(g.activeElement))return;y.preventDefault(),y.stopPropagation(),s({type:1});break}}),R=M(y=>{i||y.key===W.Space&&y.preventDefault()}),C=M(y=>{var S,j;Ie(y.currentTarget)||e.disabled||(i?(s({type:1}),(S=l.button)==null||S.focus()):(y.preventDefault(),y.stopPropagation(),l.popoverState===1&&(u==null||u(l.buttonId)),s({type:0}),(j=l.button)==null||j.focus()))}),P=M(y=>{y.preventDefault(),y.stopPropagation()}),O=l.popoverState===0,T=o.useMemo(()=>({open:O}),[O]),w=ct(e,f),I=i?{ref:m,type:w,onKeyDown:h,onClick:C}:{ref:b,id:l.buttonId,type:w,"aria-expanded":e.disabled?void 0:l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:h,onKeyUp:R,onClick:C,onMouseDown:P},$=Oe(),F=M(()=>{let y=l.panel;if(!y)return;function S(){H($.current,{[_.Forwards]:()=>z(y,B.First),[_.Backwards]:()=>z(y,B.Last)})===de.Error&&z(ve().filter(j=>j.dataset.headlessuiFocusGuard!=="true"),H($.current,{[_.Forwards]:B.Next,[_.Backwards]:B.Previous}),{relativeTo:l.button})}S()});return k.createElement(k.Fragment,null,te({ourProps:I,theirProps:a,slot:T,defaultTag:gt,name:"Popover.Button"}),O&&!i&&p&&k.createElement(fe,{id:d,features:pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))}let wt="div",xt=oe.RenderStrategy|oe.Static;function Et(e,t){let r=G(),{id:n=`headlessui-popover-overlay-${r}`,...a}=e,[{popoverState:l},s]=se("Popover.Overlay"),p=K(t),f=Te(),d=(()=>f!==null?(f&Y.Open)===Y.Open:l===0)(),c=M(i=>{if(Ie(i.currentTarget))return i.preventDefault();s({type:1})}),u=o.useMemo(()=>({open:l===0}),[l]);return te({ourProps:{ref:p,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:wt,features:xt,visible:d,name:"Popover.Overlay"})}let Pt="div",St=oe.RenderStrategy|oe.Static;function Rt(e,t){let r=G(),{id:n=`headlessui-popover-panel-${r}`,focus:a=!1,...l}=e,[s,p]=se("Popover.Panel"),{close:f,isPortalled:d}=ge("Popover.Panel"),c=`headlessui-focus-sentinel-before-${G()}`,u=`headlessui-focus-sentinel-after-${G()}`,i=o.useRef(null),v=K(i,t,w=>{p({type:4,panel:w})}),b=me(i);st(()=>(p({type:5,panelId:n}),()=>{p({type:5,panelId:null})}),[n,p]);let m=Te(),g=(()=>m!==null?(m&Y.Open)===Y.Open:s.popoverState===0)(),h=M(w=>{var I;switch(w.key){case W.Escape:if(s.popoverState!==0||!i.current||b!=null&&b.activeElement&&!i.current.contains(b.activeElement))return;w.preventDefault(),w.stopPropagation(),p({type:1}),(I=s.button)==null||I.focus();break}});o.useEffect(()=>{var w;e.static||s.popoverState===1&&((w=e.unmount)==null||w)&&p({type:4,panel:null})},[s.popoverState,e.unmount,e.static,p]),o.useEffect(()=>{if(s.__demoMode||!a||s.popoverState!==0||!i.current)return;let w=b==null?void 0:b.activeElement;i.current.contains(w)||z(i.current,B.First)},[s.__demoMode,a,i,s.popoverState]);let R=o.useMemo(()=>({open:s.popoverState===0,close:f}),[s,f]),C={ref:v,id:n,onKeyDown:h,onBlur:a&&s.popoverState===0?w=>{var I,$,F,y,S;let j=w.relatedTarget;j&&i.current&&((I=i.current)!=null&&I.contains(j)||(p({type:1}),((F=($=s.beforePanelSentinel.current)==null?void 0:$.contains)!=null&&F.call($,j)||(S=(y=s.afterPanelSentinel.current)==null?void 0:y.contains)!=null&&S.call(y,j))&&j.focus({preventScroll:!0})))}:void 0,tabIndex:-1},P=Oe(),O=M(()=>{let w=i.current;if(!w)return;function I(){H(P.current,{[_.Forwards]:()=>{var $;z(w,B.First)===de.Error&&(($=s.afterPanelSentinel.current)==null||$.focus())},[_.Backwards]:()=>{var $;($=s.button)==null||$.focus({preventScroll:!0})}})}I()}),T=M(()=>{let w=i.current;if(!w)return;function I(){H(P.current,{[_.Forwards]:()=>{var $;if(!s.button)return;let F=ve(),y=F.indexOf(s.button),S=F.slice(0,y+1),j=[...F.slice(y+1),...S];for(let N of j.slice())if(N.dataset.headlessuiFocusGuard==="true"||($=s.panel)!=null&&$.contains(N)){let q=j.indexOf(N);q!==-1&&j.splice(q,1)}z(j,B.First,{sorted:!1})},[_.Backwards]:()=>{var $;z(w,B.Previous)===de.Error&&(($=s.button)==null||$.focus())}})}I()});return k.createElement(le.Provider,{value:n},g&&d&&k.createElement(fe,{id:c,ref:s.beforePanelSentinel,features:pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),te({ourProps:C,theirProps:l,slot:R,defaultTag:Pt,features:St,visible:g,name:"Popover.Panel"}),g&&d&&k.createElement(fe,{id:u,ref:s.afterPanelSentinel,features:pe.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:T}))}let $t="div";function Ft(e,t){let r=o.useRef(null),n=K(r,t),[a,l]=o.useState([]),s=M(b=>{l(m=>{let g=m.indexOf(b);if(g!==-1){let h=m.slice();return h.splice(g,1),h}return m})}),p=M(b=>(l(m=>[...m,b]),()=>s(b))),f=M(()=>{var b;let m=it(r);if(!m)return!1;let g=m.activeElement;return(b=r.current)!=null&&b.contains(g)?!0:a.some(h=>{var R,C;return((R=m.getElementById(h.buttonId.current))==null?void 0:R.contains(g))||((C=m.getElementById(h.panelId.current))==null?void 0:C.contains(g))})}),d=M(b=>{for(let m of a)m.buttonId.current!==b&&m.close()}),c=o.useMemo(()=>({registerPopover:p,unregisterPopover:s,isFocusWithinPopoverGroup:f,closeOthers:d}),[p,s,f,d]),u=o.useMemo(()=>({}),[]),i=e,v={ref:n};return k.createElement(be.Provider,{value:c},te({ourProps:v,theirProps:i,slot:u,defaultTag:$t,name:"Popover.Group"}))}let Ct=ee(yt),jt=ee(bt),Ot=ee(Et),Tt=ee(Rt),It=ee(Ft),ie=Object.assign(Ct,{Button:jt,Overlay:Ot,Panel:Tt,Group:It});const Mt=e=>{const{element:t,padding:r}=e;function n(a){return Object.prototype.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){return n(t)?t.current!=null?Re({element:t.current,padding:r}).fn(a):{}:t?Re({element:t,padding:r}).fn(a):{}}}};var re=typeof document<"u"?o.useLayoutEffect:o.useEffect;function ae(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!ae(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&e.$$typeof)&&!ae(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function Fe(e){const t=o.useRef(e);return re(()=>{t.current=e}),t}function kt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,whileElementsMounted:l,open:s}=e,[p,f]=o.useState({x:null,y:null,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,c]=o.useState(n);ae(d,n)||c(n);const u=o.useRef(null),i=o.useRef(null),v=o.useRef(p),b=Fe(l),m=Fe(a),[g,h]=o.useState(null),[R,C]=o.useState(null),P=o.useCallback(F=>{u.current!==F&&(u.current=F,h(F))},[]),O=o.useCallback(F=>{i.current!==F&&(i.current=F,C(F))},[]),T=o.useCallback(()=>{if(!u.current||!i.current)return;const F={placement:t,strategy:r,middleware:d};m.current&&(F.platform=m.current),Qe(u.current,i.current,F).then(y=>{const S={...y,isPositioned:!0};w.current&&!ae(v.current,S)&&(v.current=S,Ue.flushSync(()=>{f(S)}))})},[d,t,r,m]);re(()=>{s===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[s]);const w=o.useRef(!1);re(()=>(w.current=!0,()=>{w.current=!1}),[]),re(()=>{if(g&&R){if(b.current)return b.current(g,R,T);T()}},[g,R,T,b]);const I=o.useMemo(()=>({reference:u,floating:i,setReference:P,setFloating:O}),[P,O]),$=o.useMemo(()=>({reference:g,floating:R}),[g,R]);return o.useMemo(()=>({...p,update:T,refs:I,elements:$,reference:P,floating:O}),[p,T,I,$,P,O])}var Dt=typeof document<"u"?o.useLayoutEffect:o.useEffect;function At(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){e.set(t,(e.get(t)||[]).filter(n=>n!==r))}}}const Nt=o.createContext(null),_t=()=>o.useContext(Nt);function Bt(e){return(e==null?void 0:e.ownerDocument)||document}function Lt(e){return Bt(e).defaultView||window}function ne(e){return e?e instanceof Lt(e).Element:!1}const Wt=Xe["useInsertionEffect".toString()],zt=Wt||(e=>e());function Ht(e){const t=o.useRef(()=>{});return zt(()=>{t.current=e}),o.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function Ut(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:r,nodeId:n}=e,a=kt(e),l=_t(),s=o.useRef(null),p=o.useRef({}),f=o.useState(()=>At())[0],[d,c]=o.useState(null),u=o.useCallback(h=>{const R=ne(h)?{getBoundingClientRect:()=>h.getBoundingClientRect(),contextElement:h}:h;a.refs.setReference(R)},[a.refs]),i=o.useCallback(h=>{(ne(h)||h===null)&&(s.current=h,c(h)),(ne(a.refs.reference.current)||a.refs.reference.current===null||h!==null&&!ne(h))&&a.refs.setReference(h)},[a.refs]),v=o.useMemo(()=>({...a.refs,setReference:i,setPositionReference:u,domReference:s}),[a.refs,i,u]),b=o.useMemo(()=>({...a.elements,domReference:d}),[a.elements,d]),m=Ht(r),g=o.useMemo(()=>({...a,refs:v,elements:b,dataRef:p,nodeId:n,events:f,open:t,onOpenChange:m}),[a,n,f,t,m,v,b]);return Dt(()=>{const h=l==null?void 0:l.nodesRef.current.find(R=>R.id===n);h&&(h.context=g)}),o.useMemo(()=>({...a,context:g,refs:v,reference:i,positionReference:u}),[a,v,g,i,u])}var Xt=Object.defineProperty,Gt=(e,t,r)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yt=(e,t,r)=>(Gt(e,typeof t!="symbol"?t+"":t,r),r),ke={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce;function Kt(){if(Ce)return Q;Ce=1;var e=k,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function s(p,f,d){var c,u={},i=null,v=null;d!==void 0&&(i=""+d),f.key!==void 0&&(i=""+f.key),f.ref!==void 0&&(v=f.ref);for(c in f)n.call(f,c)&&!l.hasOwnProperty(c)&&(u[c]=f[c]);if(p&&p.defaultProps)for(c in f=p.defaultProps,f)u[c]===void 0&&(u[c]=f[c]);return{$$typeof:t,type:p,key:i,ref:v,props:u,_owner:a.current}}return Q.Fragment=r,Q.jsx=s,Q.jsxs=s,Q}ke.exports=Kt();var x=ke.exports;class qt{constructor(){Yt(this,"current",this.detect())}set(t){this.current!==t&&(this.current=t)}reset(){this.set(this.detect())}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}const ue=new qt;function Vt(e,t,r,n){o.useEffect(()=>{const a=[];(typeof n.offset=="number"||typeof n.offset=="object"||typeof n.offset=="function")&&a.push(et(n.offset)),(n.flip===!0||typeof n.flip=="number"||typeof n.flip=="object")&&a.push(tt({padding:typeof n.flip=="number"?n.flip:void 0,...typeof n.flip=="object"?n.flip:{}})),(n.shift===!0||typeof n.shift=="number"||typeof n.shift=="object")&&a.push(nt({padding:typeof n.shift=="number"?n.shift:void 0,...typeof n.shift=="object"?n.shift:{}})),(n.autoPlacement===!0||typeof n.autoPlacement=="object")&&a.push(rt(typeof n.autoPlacement=="object"?n.autoPlacement:void 0)),(n.arrow===!0||typeof n.arrow=="number")&&a.push(Mt({element:r,padding:n.arrow===!0?0:n.arrow})),a.push(...typeof n.middleware=="function"?n.middleware({referenceEl:t.reference,floatingEl:t.floating}):n.middleware||[]),(n.hide===!0||typeof n.hide=="object")&&a.push(ot(typeof n.hide=="object"?n.hide:void 0)),e(a)},[n.offset,n.shift,n.flip,n.arrow,n.autoPlacement,n.hide,n.middleware])}function Zt(e,t,r){o.useEffect(()=>{if(e&&ue.isClient&&typeof ResizeObserver<"u"&&t.current&&t.current instanceof Element){const n=new ResizeObserver(([a])=>{const l=a.borderBoxSize.reduce((s,{inlineSize:p})=>s+p,0);r(l)});return n.observe(t.current),()=>{n.disconnect(),r(null)}}},[])}const Qt=e=>{switch(e){case"top":return"origin-bottom";case"bottom":return"origin-top";case"left":return"origin-right";case"right":return"origin-left";case"top-start":case"right-end":return"origin-bottom-left";case"top-end":case"left-end":return"origin-bottom-right";case"right-start":case"bottom-start":return"origin-top-left";case"left-start":case"bottom-end":return"origin-top-right";default:return""}};function Jt(e,t){return o.useMemo(()=>typeof e.originClass=="function"?e.originClass(t):typeof e.originClass=="string"?e.originClass:e.tailwindcssOriginClass?Qt(t):"",[t,e.originClass,e.tailwindcssOriginClass])}function De(e,t,...r){if(e in t){const a=t[e];return typeof a=="function"?a(...r):a}const n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,De),n}function Ae(e){return ue.isServer?null:e instanceof Node?e.ownerDocument:e&&Object.prototype.hasOwnProperty.call(e,"current")&&e.current instanceof Node?e.current.ownerDocument:document}const je=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ne=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ne||{});function en(e,t=0){var r;return e===((r=Ae(e))==null?void 0:r.body)?!1:De(t,{[0](){return e.matches(je)},[1](){let n=e;for(;n!==null;){if(n.matches(je))return!0;n=n.parentElement}return!1}})}const tn=(e,t)=>{ue.isServer?o.useEffect(e,t):o.useLayoutEffect(e,t)};function nn(e){const t=o.useRef(e);return tn(()=>{t.current=e},[e]),t}function A(e,t,r){const n=nn(t);o.useEffect(()=>{function a(l){n.current(l)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[e,r])}function rn(e,t,r=!0){const n=o.useRef(!1);o.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(s,p){if(!n.current||s.defaultPrevented)return;const f=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e),d=p(s);if(d!==null&&d.getRootNode().contains(d)){for(const c of f){if(c===null)continue;const u=c instanceof HTMLElement?c:c.current;if(u!=null&&u.contains(d)||s.composed&&s.composedPath().includes(u))return}return!en(d,Ne.Loose)&&d.tabIndex!==-1&&s.preventDefault(),t(s,d)}}const l=o.useRef(null);A("mousedown",s=>{var p,f;n.current&&(l.current=((f=(p=s.composedPath)==null?void 0:p.call(s))==null?void 0:f[0])||s.target)},!0),A("click",s=>{l.current&&(a(s,()=>l.current),l.current=null)},!0),A("blur",s=>a(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}const we=o.createContext(null);we.displayName="ReferenceContext";const xe=o.createContext(null);xe.displayName="FloatingContext";const J=o.createContext(null);J.displayName="ArrowContext";function _e(e){const t=o.useContext(we);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,_e),r}return t}function Be(e){const t=o.useContext(xe);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Be),r}return t}function Le(e){const t=o.useContext(J);if(t===null){const r=new Error(`<${e} /> is missing a parent <Float /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Le),r}return t}function We(e,t,r,n){const{referenceRef:a}=n,l=t;if(l.as===o.Fragment)return x.jsx(e.type,{...e.props,...r,ref:a});const s=l.as||"div";return x.jsx(s,{...r,ref:a,children:x.jsx(e.type,{...e.props})})}function Ee(e,t,r,n){const{floatingRef:a,props:l,mounted:s,setShow:p,x:f,y:d,placement:c,strategy:u,referenceElWidth:i}=n,v={...l,...t},b=Jt(v,c),m={show:s.current?v.show:!1,enter:`${v.enter||""} ${b}`,enterFrom:`${v.enterFrom||""}`,enterTo:`${v.enterTo||""}`,leave:`${v.leave||""} ${b}`,leaveFrom:`${v.leaveFrom||""}`,leaveTo:`${v.leaveTo||""}`,beforeEnter:()=>{p(!0)},afterLeave:()=>{p(!1)}},g={style:{...!v.dialog&&(v.transform||v.transform===void 0)?{position:u,zIndex:v.zIndex||9999,top:"0px",left:"0px",right:"auto",bottom:"auto",transform:`translate(${Math.round(f||0)}px,${Math.round(d||0)}px)`}:{position:u,zIndex:v.zIndex||9999,top:`${d||0}px`,left:`${f||0}px`},width:v.adaptiveWidth&&typeof i=="number"?`${i}px`:void 0}};function h(P){return v.portal?x.jsx(Ze,{children:P}):P}function R(P){const O={...g,...r,ref:a};if(v.as===o.Fragment)return x.jsx(P.type,{...P.props,...O});const T=v.as||"div";return x.jsx(T,{...O,children:x.jsx(P.type,{...P.props})})}function C(){return ue.isServer?s.current&&v.show?x.jsx(e.type,{...e.props}):x.jsx(o.Fragment,{}):v.transitionChild?x.jsx(ce.Child,{as:o.Fragment,...m,children:x.jsx(e.type,{...e.props})}):x.jsx(ce,{as:o.Fragment,...m,children:x.jsx(e.type,{...e.props})})}return h(R(C()))}function ze([e,t],r){var n,a;const l=o.useRef(!1),[s,p]=o.useState(),f=o.useRef(null),d=o.useMemo(()=>({show:r.onShow||(()=>{}),hide:r.onHide||(()=>{}),update:r.onUpdate||(()=>{})}),[r.onShow,r.onHide,r.onUpdate]),{x:c,y:u,placement:i,strategy:v,update:b,refs:m,middlewareData:g}=Ut({placement:r.placement||"bottom-start",strategy:r.strategy,middleware:s}),[h,R]=o.useState(null),C=o.useCallback(()=>{b(),d.update()},[b,d]);o.useEffect(C,[r.placement,r.strategy,s]),Vt(p,m,f,r),o.useEffect(()=>{l.current=!0},[]),Zt(r.adaptiveWidth,m.reference,R),o.useEffect(()=>{if(m.reference.current&&m.floating.current&&e){const I=r.autoUpdate!==!1?Je(m.reference.current,m.floating.current,C,typeof r.autoUpdate=="object"?r.autoUpdate:void 0):()=>{};return d.show(),()=>{I(),d.hide()}}},[e,C,m]);const P=o.useRef(!0);o.useEffect(()=>{!(m.reference.current instanceof Element)&&m.reference.current&&m.floating.current&&P.current&&(P.current=!1,C(),window.requestAnimationFrame(()=>{P.current=!0,C()}))},[m]);const O={referenceRef:m.setReference,placement:i},T={floatingRef:m.setFloating,props:r,mounted:l,setShow:t,x:c,y:u,placement:i,strategy:v,referenceElWidth:h},w={arrowRef:f,placement:i,x:(n=g.arrow)==null?void 0:n.x,y:(a=g.arrow)==null?void 0:a.y};return{referenceApi:O,floatingApi:T,arrowApi:w,x:c,y:u,placement:i,strategy:v,update:C,refs:m,middlewareData:g}}const He=o.forwardRef((e,t)=>{const[r,n]=o.useState(e.show??!1),{referenceApi:a,floatingApi:l,arrowApi:s,placement:p}=ze([r,n],e),f={placement:p},[d,c]=typeof e.children=="function"?e.children(f):e.children;if(!o.isValidElement(d))return console.warn("<Float /> is missing a reference and floating element."),x.jsx(o.Fragment,{});function u(b){if(e.as===o.Fragment||!e.as)return x.jsx(o.Fragment,{children:b});const m=e.as;return x.jsx(m,{ref:t,className:e.className,children:b})}if(e.composable||e.dialog)return u(x.jsx(we.Provider,{value:a,children:x.jsx(xe.Provider,{value:l,children:x.jsx(J.Provider,{value:s,children:typeof e.children=="function"?e.children(f):e.children})})},"FloatingNode"));const i=We(d,{as:o.Fragment},{key:"reference-node"},a),v=Ee(c,{as:e.floatingAs||"div"},{},l);return u([i,x.jsx(J.Provider,{value:s,children:v},"floating-node")])});He.displayName="Float";function on(e){if(!e.children)return x.jsx(o.Fragment,{});const t=o.useMemo(()=>{const{as:l,children:s,...p}=e;return p},[e]),r=_e("Float.Reference"),{placement:n}=r,a={placement:n};return We(typeof e.children=="function"?e.children(a):e.children,{...e,as:e.as||o.Fragment},t,r)}function an(e){if(!e.children)return x.jsx(o.Fragment,{});const t=o.useMemo(()=>{const{as:l,enter:s,enterFrom:p,enterTo:f,leave:d,leaveFrom:c,leaveTo:u,originClass:i,tailwindcssOriginClass:v,transitionChild:b,children:m,...g}=e;return g},[e]),r=Be("Float.Content"),{placement:n}=r,a={placement:n};return Ee(typeof e.children=="function"?e.children(a):e.children,{...e,as:e.as||"div"},t,r)}function sn(e){const{arrowRef:t,placement:r,x:n,y:a}=Le("Float.Arrow"),l=o.useMemo(()=>{const{as:d,offset:c,children:u,...i}=e;return i},[e]),s={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]],p={left:typeof n=="number"?`${n}px`:void 0,top:typeof a=="number"?`${a}px`:void 0,right:void 0,bottom:void 0,[s]:`${(e.offset??4)*-1}px`,...l.style};if(e.as===o.Fragment){const d={placement:r},c=typeof e.children=="function"?e.children(d):e.children;return!c||!o.isValidElement(c)?x.jsx(o.Fragment,{}):x.jsx(c.type,{...c.props,ref:t,style:p})}const f=e.as||"div";return x.jsx(f,{ref:t,...l,style:p,children:e.children})}function Pe({onInitial:e,children:t,...r}){const[n,a]=o.useState(r.show??!1),l=o.useMemo(()=>{const{as:i,show:v,placement:b,strategy:m,offset:g,shift:h,flip:R,arrow:C,autoPlacement:P,hide:O,autoUpdate:T,zIndex:w,enter:I,enterFrom:$,enterTo:F,leave:y,leaveFrom:S,leaveTo:j,originClass:N,tailwindcssOriginClass:q,portal:E,transform:D,middleware:V,onShow:U,onHide:Z,onUpdate:Se,...X}=r;return X},[r]),{floatingApi:s,arrowApi:p,placement:f,refs:d}=ze([n,a],r);o.useEffect(()=>{a(r.show??!1)},[r.show]);function c(){n&&a(!1)}if(e({show:n,setShow:a,placement:f,refs:d}),!t)return x.jsx(o.Fragment,{});const u=Ee(typeof t=="function"?t({placement:f,close:c}):t,{...r,as:r.as||o.Fragment,show:n},l,s);return x.jsx(J.Provider,{value:p,children:u})}function ln(e){function t({setShow:r,refs:n}){A("contextmenu",a=>{a.preventDefault(),n.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:a.clientX,y:a.clientY,top:a.clientY,left:a.clientX,right:a.clientX,bottom:a.clientY}}}),r(!0)}),rn(n.floating,()=>{r(!1)})}return x.jsx(Pe,{flip:!0,...e,show:!1,portal:!0,onInitial:t})}function un({globalHideCursor:e,...t}){function r({setShow:n,refs:a}){function l(){n(!0)}function s(){n(!1)}function p(u){a.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:u.clientX,y:u.clientY,top:u.clientY,left:u.clientX,right:u.clientX,bottom:u.clientY}}})}function f(u){l(),p(u)}function d(u){l(),p(u.touches[0])}const c=Ae(a.floating);c&&(o.useEffect(()=>{if((e||e===void 0)&&!c.getElementById("headlesui-float-cursor-style")){const u=c.createElement("style");return(c.head||c.getElementsByTagName("head")[0]).appendChild(u),u.id="headlesui-float-cursor-style",u.appendChild(c.createTextNode(["*, *::before, *::after {","  cursor: none !important;","}",".headlesui-float-cursor-root {","  pointer-events: none !important;","}"].join(`
`))),()=>{var i;return(i=c.getElementById("headlesui-float-cursor-style"))==null?void 0:i.remove()}}},[e]),"ontouchstart"in window||navigator.maxTouchPoints>0?(A("touchstart",d),A("touchend",s),A("touchmove",d)):(A("mouseenter",f),A("mouseleave",s),A("mousemove",f)))}return x.jsx(Pe,{...t,portal:!0,className:"headlesui-float-cursor-root",onInitial:r})}const cn=Object.assign(He,{Reference:on,Content:an,Arrow:sn,Virtual:Pe,ContextMenu:ln,Cursor:un}),yn=({children:e,toggler:t,togglerClass:r,placement:n,menuClass:a})=>L.jsx(ie,{className:"relative",children:L.jsx(L.Fragment,{children:L.jsxs(cn,{placement:n,children:[L.jsx(ie.Button,{className:r??"",children:t}),L.jsx(ce,{as:o.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:L.jsx(ie.Panel,{className:a??"",children:e})})]})})});export{yn as P};
