import{r as c,j as e,L as r,a as C}from"./index-d970708c.js";import{S as j}from"./index-41dc736c.js";import{a as u}from"./avatar-1-0b44fb62.js";import{a as A}from"./avatar-2-764e13a4.js";import{a as U}from"./avatar-3-116a15e7.js";import{a as T}from"./avatar-4-b3428cdc.js";import{a as E}from"./avatar-5-c8991e8f.js";import{a as F}from"./avatar-6-e7bebfb2.js";import{a as W}from"./avatar-7-6f578cd2.js";import{a as P}from"./avatar-8-72b8133d.js";import{a as G}from"./avatar-9-1484e991.js";import{P as y}from"./PopoverLayout-aa9a050d.js";import{u as D}from"./index.esm-7964dfd8.js";import{o as H,c as z,a as L}from"./yup-351887b2.js";import{T as I}from"./tippy-88f7f3a8.js";import{F as R}from"./FormInput-ce7c6681.js";import{P as B}from"./PageBreadcrumb-5a2fb846.js";import{O as V}from"./OffcanvasLayout-8d82bbba.js";import"./throttle-509388b9.js";import"./transition-8001ce62.js";import"./keyboard-5323140c.js";import"./floating-ui.dom.browser.min-1104147d.js";import"./floating-ui.core.browser.min-9412da44.js";import"./use-resolve-button-type-027adbc8.js";import"./dialog-2dde6923.js";const p=[{id:1,name:"Brandon Smith",avatar:A,lastMessage:"How are you today?",totalUnread:3,lastMessageOn:"4:30am",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:2,name:"Maria C",avatar:E,lastMessage:"Hey! a reminder for tomorrow's meeting?",totalUnread:0,lastMessageOn:"5:30am",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:3,name:"Dominic A",avatar:T,lastMessage:"Are we going to have this week's planning meeting?",totalUnread:2,lastMessageOn:"Thu",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:4,name:"Ronda D",avatar:G,lastMessage:"Please check these design assets..",totalUnread:0,lastMessageOn:"Wed",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:5,name:"Michael H",avatar:F,lastMessage:"Are you free for 15 mins? I would like to discuss something",totalUnread:6,lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:6,name:"Thomas R",avatar:W,lastMessage:"Let's have meeting today between me, you and Tony...",totalUnread:0,lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Friends"},{id:7,name:"Thomas J",avatar:P,lastMessage:"Howdy?",totalUnread:0,lastMessageOn:"Tue",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New York, USA",languages:"English, German, Spanish",groups:"Work, Favourties"},{id:8,name:"Rikcy J",avatar:U,lastMessage:"Are you interested in learning?",totalUnread:28,lastMessageOn:"Mon",email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"New Jersey, USA",languages:"English, German, Spanish",groups:"Work, Friends"}],b=[],i={id:9,name:"Tosha Minner",avatar:u,email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"};for(const s of p)b.push({id:1,message:{type:"text",value:"Hello!"},to:i,from:s,sendOn:"10:00"},{id:2,message:{type:"text",value:"Hi, How are you? What about our next meeting?"},to:s,from:i,sendOn:"10:01"},{id:3,message:{type:"text",value:"Yeah everything is fine"},to:i,from:s,sendOn:"10:01"},{id:4,message:{type:"text",value:"Awesome!"},to:s,from:i,sendOn:"10:02"},{id:5,message:{type:"text",value:"Let's have it today if you are free"},to:i,from:s,sendOn:"10:03"},{id:6,message:{type:"text",value:"Sure thing! let me know if 2pm works for you"},to:s,from:i,sendOn:"10:03"},{id:7,message:{type:"text",value:"Sorry, I have another meeting scheduled at 2pm. Can we have it at 3pm instead?"},to:i,from:s,sendOn:"10:04"},{id:8,message:{type:"text",value:"We can also discuss about the presentation talk format if you have some extra mins"},to:i,from:s,sendOn:"10:04"},{id:9,message:{type:"text",value:"3pm it is. Sure, let's discuss about presentation format, it would be great to finalize today. I am attaching the last year format and assets here.."},to:s,from:i,sendOn:"10:05"},{id:10,message:{type:"file",value:{file:"Attex-sketch.zip",size:"2.3MB"}},to:s,from:i,sendOn:"10:05"});const J=({onUserSelect:s,chatToggler:m})=>{const l=()=>e.jsx("i",{className:"ri-settings-5-line text-xl"}),[d,n]=c.useState([...p]),o=a=>{n(a?[...p].filter(g=>g.name.toLowerCase().indexOf(a.toLowerCase())>=0):[...p])},h=a=>{s&&s(a)};return e.jsxs("div",{className:"card lg:min-w-96",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:u,className:"rounded-full h-10",alt:"Brandon Smith"}),e.jsxs("div",{className:"w-full",children:[e.jsx("h5",{className:"",children:e.jsx(r,{to:"/pages/profile",children:"Tosha Minner"})}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("small",{className:"ri-checkbox-blank-circle-fill me-1 text-success"})," Online"]})]})]}),e.jsx(y,{placement:"bottom-end",toggler:e.jsx(l,{}),togglerClass:"",children:e.jsxs("div",{className:"min-w-40 z-50 transition-all duration-300 bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-600 rounded-md py-1 mt-1",children:[e.jsxs(r,{className:"flex items-center py-1.5 px-5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:[e.jsx("i",{className:"ri-archive-line me-2 text-base"}),"Archive"]}),e.jsxs(r,{className:"flex items-center py-1.5 px-5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:[e.jsx("i",{className:"ri-equalizer-line me-2 text-base"}),"Setting"]}),e.jsxs(r,{className:"flex items-center py-1.5 px-5 text-sm font-medium text-danger hover:bg-gray-100 dark:hover:bg-gray-700",to:"",children:[e.jsx("i",{className:"ri-delete-bin-line me-2 text-base"}),"Delete"]}),e.jsx("hr",{className:"my-1.5"}),e.jsxs(r,{className:"flex items-center py-1.5 px-5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:[e.jsx("i",{className:"ri-logout-circle-line me-2 text-base"}),"Log Out"]})]})})]}),e.jsx("div",{className:"mb-3",children:e.jsx("form",{children:e.jsxs("div",{className:"relative flex rounded-md",children:[e.jsx("input",{onKeyUp:a=>o(a.target.value),type:"text",id:"trailing-button-add-on-with-icon-and-button",name:"trailing-button-add-on-with-icon-and-button",className:"form-input form-input-light ps-9",placeholder:"People, groups & messages..."}),e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3",children:e.jsx("i",{className:"ri-search-line text-base"})})]})})}),e.jsx("h6",{className:"fs-13 text-muted text-uppercase mb-3",children:"Group Chats"}),e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs(r,{to:"",className:"text-reset mb-2 flex items-center",children:[e.jsx("i",{className:"ri-checkbox-blank-circle-line me-1 text-success"}),e.jsx("span",{children:"App Development"})]}),e.jsxs(r,{to:"",className:"text-reset mb-2 flex items-center",children:[e.jsx("i",{className:"ri-checkbox-blank-circle-line me-1 text-warning"}),e.jsx("span",{children:"Office Work"})]})]})]}),e.jsxs("div",{children:[e.jsx("h6",{className:"fs-13 text-muted text-uppercase px-6 mb-4",children:"Contacts"}),e.jsx(j,{className:"h-[calc(100vh-400px)] lg:h-[calc(100vh-526px)]",children:e.jsx("div",{className:"",children:(d||[]).map((a,g)=>e.jsx(r,{to:"#",onClick:()=>{h(a),m()},children:e.jsxs("div",{className:"flex items-center gap-2 py-3 px-6",children:[e.jsx("img",{src:a.avatar,className:"rounded-full h-10",alt:a.name}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h6",{children:a.name}),e.jsx("small",{className:"text-gray-400",children:a.lastMessageOn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-light text-gray-400",children:a.lastMessage}),e.jsx("span",{children:a.totalUnread!==0&&e.jsx("span",{className:"px-1 py-0.5 text-xs rounded-full bg-danger/25 text-danger",children:a.totalUnread})})]})]})]})},g))})})]})]})},Y=({message:s,toUser:m})=>{const l=()=>e.jsx("i",{className:"ri-more-2-fill text-lg"});return e.jsxs("div",{className:`${s.from.id===m.id?"flex-row-reverse items-start text-end":"items-start text-start"} flex gap-3 group`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:s.from.avatar,className:"rounded-md h-8"}),e.jsx("p",{className:"text-xs pt-0.5",children:s.sendOn})]}),s.message.type==="text"&&e.jsxs("div",{className:"max-w-3/4 bg-light p-3 relative rounded rounded-ss-none after:top-0 after:-start-2.5 after:absolute after:border-[6px] after:border-t-light after:border-e-light after:border-transparent dark:bg-gray-700 dark:after:border-t-gray-700 dark:after:border-e-gray-700",children:[e.jsx("p",{className:"text-xs font-bold relative",children:s.from.name}),e.jsx("p",{className:"pt-1",children:s.message.value})]}),s.message.type==="file"&&e.jsx("div",{className:"border rounded mt-3 dark:border-slate-700",children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12",children:e.jsx("span",{className:"inline-flex items-center justify-center h-full w-full bg-primary text-white rounded",children:".ZIP"})}),e.jsxs("div",{className:"text-start text-gray-400",children:[e.jsx(r,{to:"",className:"text-sm font-bold",children:s.message.value.file}),e.jsx("p",{className:"text-sm",children:s.message.value.size})]})]}),e.jsx(r,{to:"",className:"btn !text-xl",children:e.jsx("i",{className:"ri-download-2-line"})})]})})}),e.jsx("div",{className:"hidden group-hover:block",children:e.jsx(y,{toggler:e.jsx(l,{}),togglerClass:"",children:e.jsxs("div",{className:"min-w-40 mt-2 z-50 transition-all duration-300 bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-600 rounded-md py-1.5",children:[e.jsx(r,{className:"flex items-center py-1.5 px-5 text-sm text-gray-500 hover:bg-slate-100 hover:text-slate-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:"Copy Message"}),e.jsx(r,{className:"flex items-center py-1.5 px-5 text-sm text-gray-500 hover:bg-slate-100 hover:text-slate-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:"Edit"}),e.jsx(r,{className:"flex items-center py-1.5 px-5 text-sm text-gray-500 hover:bg-slate-100 hover:text-slate-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",to:"",children:"Delete"})]})})})]})},$=[{title:"Voice Call",icon:"ri-phone-line"},{title:"Video Call",icon:"ri-vidicon-line"},{title:"Add Users",icon:"ri-group-line"},{title:"Delete Chat",icon:"ri-delete-bin-line"}],v=({selectedUser:s,chatToggler:m})=>{const[l,d]=c.useState([]),[n]=c.useState({id:9,name:"Tosha Minner",avatar:u,email:"support@coderthemes.com",phone:"+1 456 9595 9594",location:"California, USA",languages:"English, German, Spanish",groups:"Work, Friends"}),o=c.useCallback(()=>{s&&setTimeout(()=>{d([...b].filter(t=>t.to.id===n.id&&t.from.id===s.id||n.id===t.from.id&&t.to.id===s.id))},750)},[s,n]);c.useEffect(()=>{o()},[o]);const h=H(z().shape({newMessage:L().required("Please enter your messsage")})),a=D({resolver:h}),{handleSubmit:g,register:N,control:w,formState:{errors:k},reset:M}=a,S=t=>{const x=[...l];x.push({id:l.length+1,from:n,to:s,message:{type:"text",value:t.newMessage},sendOn:new Date().getHours()+":"+new Date().getMinutes()}),setTimeout(()=>{const f=[...x];f.push({id:l.length+1,from:s,to:n,message:{type:"text",value:t.newMessage},sendOn:new Date().getHours()+":"+new Date().getMinutes()}),d(f)},1e3),d(x),M()},O=()=>{const t=c.useRef(null);return c.useEffect(()=>{t&&t.current&&t.current.scrollIntoView&&t.current.scrollIntoView({behavior:"smooth"})}),e.jsx("div",{ref:t})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card w-full lg:overflow-hidden",children:[e.jsx("div",{className:"sticky top-0 start-0 end-0 lg:static py-3 px-6 border-b border-light dark:border-gray-600 z-10 bg-white",children:e.jsxs("div",{className:"flex flex-wrap justify-between gap-3 py-1.5",children:[e.jsx("div",{className:"sm:w-7/12",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"lg:hidden block rtl:rotate-180",onClick:m,type:"button",children:e.jsx("i",{className:"ri-arrow-left-s-line text-xl text-gray-500 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-400"})}),e.jsx("img",{src:s.avatar,className:"me-2 rounded-full h-9",alt:s.name}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm ",children:e.jsx(r,{to:"#",className:"text-gray-500",children:s.name})}),e.jsxs("p",{className:"mt-1.5 text-gray-400 text-xs flex items-center",children:[e.jsx("small",{className:"ri-checkbox-blank-circle-fill text-danger me-1"})," Offline"]})]})]})}),e.jsx("div",{className:"w-auto",children:e.jsx("div",{id:"tooltips-container",children:($||[]).map((t,x)=>e.jsx(I,{content:t.title,placement:"bottom",children:e.jsx(r,{to:"",className:"p-1.5 inline-block",children:e.jsx("i",{className:`${t.icon} text-xl`})})},x))})})]})}),e.jsx(j,{className:" p-6 h-full lg:h-[calc(100vh-400px)]",children:e.jsxs("div",{className:"space-y-4",children:[(l||[]).map((t,x)=>e.jsx(Y,{message:t,toUser:n},x)),e.jsx(O,{})]})}),e.jsx("div",{className:"flex sticky bottom-0 start-0 end-0 lg:static",children:e.jsx("div",{className:"w-full",children:e.jsx("div",{className:"bg-light p-6 dark:bg-gray-700",children:e.jsx("form",{name:"chat-form",noValidate:!0,onSubmit:g(S),children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(R,{type:"text",name:"newMessage",containerClass:"w-full",className:"form-input border-none bg-white dark:bg-gray-800 placeholder:text-slate-400",placeholder:"Enter your text",register:N,errors:k,control:w},"newMessage"),e.jsx("div",{className:"w-auto",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(r,{to:"#",className:"btn bg-light text-gray-800 hover:bg-dark/20 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-light/20",children:e.jsx("i",{className:"ri-attachment-2"})}),e.jsx("button",{type:"submit",className:"btn bg-success text-white w-full",children:e.jsx("i",{className:"ri-send-plane-2-line"})})]})})]})})})})})]})})},je=()=>{const[s,m]=c.useState(p[1]),l=a=>{m(a)},[d,n]=c.useState(!1),o=()=>{n(!d)},{width:h}=C();return e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Chat",subName:"Apps"}),e.jsx("div",{className:"relative lg:overflow-visible overflow-hidden",children:e.jsxs("div",{className:"lg:flex gap-4",children:[e.jsx(J,{onUserSelect:l,chatToggler:o}),h>=1024?e.jsx(v,{selectedUser:s,chatToggler:o}):e.jsx(V,{open:d,toggleOffcanvas:o,placement:"end",sizeClassName:"w-full",children:e.jsx(v,{selectedUser:s,chatToggler:o})})]})})]})};export{je as default};
